import random

health = 100
inventory = []
current_location = "–ª–µ—Å"
game_over = False

def describe_forest():
    print("\n–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –≥—É—Å—Ç–æ–º –ª–µ—Å—É. –í–¥–∞–ª–µ–∫–µ –≤–∏–¥–Ω–µ–µ—Ç—Å—è –¥–µ—Ä–µ–≤–Ω—è.")
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print(" - –∏–¥—Ç–∏ –≤ –¥–µ—Ä–µ–≤–Ω—é")
    print(" - –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ª–µ—Å")

def handle_forest(action):
    global health, current_location
    if action == "–∏–¥—Ç–∏ –≤ –¥–µ—Ä–µ–≤–Ω—é":
        current_location = "–¥–µ—Ä–µ–≤–Ω—è"
    elif action == "–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ª–µ—Å":
        print("–í—ã –Ω–∞—à–ª–∏ —è–≥–æ–¥—ã. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ 10 HP.")
        health = min(100, health + 10)
        print(f"–ó–¥–æ—Ä–æ–≤—å–µ: {health}")
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.")

def describe_village():
    print("\n–ú–∞–ª–µ–Ω—å–∫–∞—è –¥–µ—Ä–µ–≤–Ω—è. –õ—é–¥–∏ –≤—ã–≥–ª—è–¥—è—Ç –≤—Å—Ç—Ä–µ–≤–æ–∂–µ–Ω–Ω–æ. –†—è–¥–æ–º ‚Äî —Ç—Ä–∞–∫—Ç–∏—Ä, –∫—É–∑–Ω–∏—Ü–∞ –∏ —Å—Ç–∞—Ä–∏–∫ —Å –∫–∞—Ä—Ç–æ–π.")
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print(" - –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å–æ —Å—Ç–∞—Ä–∏–∫–æ–º")
    print(" - –∑–∞–π—Ç–∏ –≤ —Ç—Ä–∞–∫—Ç–∏—Ä")
    print(" - –∏–¥—Ç–∏ –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ")
    print(" - –∏–¥—Ç–∏ –≤ —Ö—Ä–∞–º")

def handle_village(action):
    global current_location, inventory
    if action == "–ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å–æ —Å—Ç–∞—Ä–∏–∫–æ–º":
        print("–°—Ç–∞—Ä–∏–∫: '–ê—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–ø—Ä—è—Ç–∞–Ω –≤ –±–∞—à–Ω–µ. –ù–æ –ø—É—Ç—å –æ–ø–∞—Å–µ–Ω.'")
        if "–∫–∞—Ä—Ç–∞" not in inventory:
            inventory.append("–∫–∞—Ä—Ç–∞")
            print("–í—ã –ø–æ–ª—É—á–∏–ª–∏: –∫–∞—Ä—Ç–∞.")
    elif action == "–∑–∞–π—Ç–∏ –≤ —Ç—Ä–∞–∫—Ç–∏—Ä":
        current_location = "—Ç—Ä–∞–∫—Ç–∏—Ä"
    elif action == "–∏–¥—Ç–∏ –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ":
        current_location = "–ø–æ–¥–∑–µ–º–µ–ª—å–µ"
    elif action == "–∏–¥—Ç–∏ –≤ —Ö—Ä–∞–º":
        current_location = "—Ö—Ä–∞–º"
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.")

def describe_tavern():
    print("\n–¢—ë–ø–ª—ã–π —Ç—Ä–∞–∫—Ç–∏—Ä. –ë–∞—Ä–º–µ–Ω —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –æ –ø–æ–¥–∑–µ–º–µ–ª—å–µ. –í —É–≥–ª—É ‚Äî –º–µ—á –Ω–∞ –ø—Ä–æ–¥–∞–∂—É.")
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print(" - –∫—É–ø–∏—Ç—å –º–µ—á")
    print(" - –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –±–∞—Ä–º–µ–Ω–æ–º")
    print(" - –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –¥–µ—Ä–µ–≤–Ω—é")

def handle_tavern(action):
    global current_location, inventory
    if action == "–∫—É–ø–∏—Ç—å –º–µ—á":
        if "–º–µ—á" not in inventory:
            inventory.append("–º–µ—á")
            print("–í—ã –∫—É–ø–∏–ª–∏ –º–µ—á!")
        else:
            print("–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –º–µ—á.")
    elif action == "–ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –±–∞—Ä–º–µ–Ω–æ–º":
        print("–ë–∞—Ä–º–µ–Ω: '–ü–æ–¥–∑–µ–º–µ–ª—å–µ –ø–æ–ª–Ω–æ–µ –ª–æ–≤—É—à–µ–∫. –ë–µ—Ä–µ–≥–∏—Å—å!'")
    elif action == "–≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –¥–µ—Ä–µ–≤–Ω—é":
        current_location = "–¥–µ—Ä–µ–≤–Ω—è"
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.")

def describe_dungeon():
    print("\n–¢—ë–º–Ω–æ–µ –ø–æ–¥–∑–µ–º–µ–ª—å–µ. –í–ø–µ—Ä–µ–¥–∏ —Å–ª—ã—à–Ω—ã –∑–≤—É–∫–∏. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–π—Ç–∏ –≥–ª—É–±–∂–µ –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è.")
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print(" - –∏–¥—Ç–∏ –≥–ª—É–±–∂–µ")
    print(" - –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –¥–µ—Ä–µ–≤–Ω—é")

def handle_dungeon(action):
    global current_location, health, game_over
    if action == "–∏–¥—Ç–∏ –≥–ª—É–±–∂–µ":
        print("–í—ã –Ω–∞—à–ª–∏ –ª–æ–≤—É—à–∫—É! –ü–æ—Ç–µ—Ä—è–ª–∏ 20 HP.")
        health -= 20
        print(f"–ó–¥–æ—Ä–æ–≤—å–µ: {health}")
        if health <= 0:
            print("–í—ã —É–º–µ—Ä–ª–∏. –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞.")
            game_over = True
        else:
            current_location = "–ø–µ—â–µ—Ä–∞"
    elif action == "–≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –¥–µ—Ä–µ–≤–Ω—é":
        current_location = "–¥–µ—Ä–µ–≤–Ω—è"
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.")

def describe_temple():
    print("\n–î—Ä–µ–≤–Ω–∏–π —Ö—Ä–∞–º. –í–Ω—É—Ç—Ä–∏ ‚Äî –∑–∞–≥–∞–¥–∫–∞ –∏ —Å—É–Ω–¥—É–∫.")
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print(" - –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–µ—à–∏—Ç—å –∑–∞–≥–∞–¥–∫—É")
    print(" - –æ—Ç–∫—Ä—ã—Ç—å —Å—É–Ω–¥—É–∫")
    print(" - –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –¥–µ—Ä–µ–≤–Ω—é")

def handle_temple(action):
    global inventory, health
    if action == "–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–µ—à–∏—Ç—å –∑–∞–≥–∞–¥–∫—É":
        print("–ó–∞–≥–∞–¥–∫–∞: '–Ø –º–æ–≥—É –ª–µ—Ç–∞—Ç—å, –Ω–æ —É –º–µ–Ω—è –Ω–µ—Ç –∫—Ä—ã–ª—å–µ–≤. –ö—Ç–æ —è?'")
        answer = input("–í–∞—à –æ—Ç–≤–µ—Ç: ").lower().strip()
        if answer == "–≤—Ä–µ–º—è" or answer == "–º—ã—Å–ª—å":
            print("–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –í—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–ª—é—á –æ—Ç —Å—É–Ω–¥—É–∫–∞.")
            inventory.append("–∫–ª—é—á")
        else:
            print("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –í—ã —Ç–µ—Ä—è–µ—Ç–µ 10 HP.")
            health -= 10
            print(f"–ó–¥–æ—Ä–æ–≤—å–µ: {health}")
    elif action == "–æ—Ç–∫—Ä—ã—Ç—å —Å—É–Ω–¥—É–∫":
        if "–∫–ª—é—á" in inventory:
            print("–°—É–Ω–¥—É–∫ –æ—Ç–∫—Ä—ã—Ç! –í—ã –Ω–∞—à–ª–∏ –∑–µ–ª—å–µ –∑–¥–æ—Ä–æ–≤—å—è –∏ –º–∞–≥–∏—á–µ—Å–∫–∏–π –∫—Ä–∏—Å—Ç–∞–ª–ª.")
            inventory.extend(["–∑–µ–ª—å–µ", "–∫—Ä–∏—Å—Ç–∞–ª–ª"])
        else:
            print("–°—É–Ω–¥—É–∫ –∑–∞–ø–µ—Ä—Ç.")
    elif action == "–≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –¥–µ—Ä–µ–≤–Ω—é":
        current_location = "–¥–µ—Ä–µ–≤–Ω—è"
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.")

def describe_cave():
    print("\n–ü–µ—â–µ—Ä–∞ –ø–æ–ª–Ω–∞ —Å–æ–∫—Ä–æ–≤–∏—â, –Ω–æ –Ω–∞ –≤—Ö–æ–¥–µ ‚Äî –º–æ–Ω—Å—Ç—Ä!")
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print(" - —Å—Ä–∞–∂–∞—Ç—å—Å—è")
    print(" - —É–±–µ–∂–∞—Ç—å")
    print(" - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—á")

def handle_cave(action):
    global current_location, game_over, inventory
    if action == "—Å—Ä–∞–∂–∞—Ç—å—Å—è":
        if "–º–µ—á" in inventory:
            print("–í—ã –ø–æ–±–µ–¥–∏–ª–∏ –º–æ–Ω—Å—Ç—Ä–∞! –ù–∞–≥—Ä–∞–¥–∞ ‚Äî –∫–∞—Ä—Ç–∞ –∫ –±–∞—à–Ω–µ.")
            inventory.append("–∫–∞—Ä—Ç–∞ –±–∞—à–Ω–∏")
            current_location = "–±–∞—à–Ω—è"
        else:
            print("–£ –≤–∞—Å –Ω–µ—Ç –º–µ—á–∞. –í—ã —É–±–∏—Ç—ã –º–æ–Ω—Å—Ç—Ä–æ–º. –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞.")
            game_over = True
    elif action == "—É–±–µ–∂–∞—Ç—å":
        print("–í—ã —É–±–µ–∂–∞–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –¥–µ—Ä–µ–≤–Ω—é.")
        current_location = "–¥–µ—Ä–µ–≤–Ω—è"
    elif action == "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—á":
        print("–í—ã –∞—Ç–∞–∫–æ–≤–∞–ª–∏ –º–æ–Ω—Å—Ç—Ä–∞. –û–Ω –ø–æ–≤–µ—Ä–∂–µ–Ω!")
        inventory.append("–∫–∞—Ä—Ç–∞ –±–∞—à–Ω–∏")
        current_location = "–±–∞—à–Ω—è"
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.")

def describe_tower():
    print("\n–í—ã—Å–æ–∫–∞—è –±–∞—à–Ω—è. –ù–∞–≤–µ—Ä—Ö—É ‚Äî –∞—Ä—Ç–µ—Ñ–∞–∫—Ç. –ù–æ –ª–µ—Å—Ç–Ω–∏—Ü–∞ –æ–±—Ä—É—à–µ–Ω–∞.")
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print(" - –Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–± –ø–æ–¥–Ω—è—Ç—å—Å—è")
    print(" - –≤–µ—Ä–Ω—É—Ç—å—Å—è")

def handle_tower(action):
    global game_over, artifact_found, inventory
    if action == "–Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–± –ø–æ–¥–Ω—è—Ç—å—Å—è":
        if "–∫—Ä–∏—Å—Ç–∞–ª–ª" in inventory:
            print("–ö—Ä–∏—Å—Ç–∞–ª–ª –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –º–∞–≥–∏—á–µ—Å–∫—É—é –ª–µ—Å—Ç–Ω–∏—Ü—É!")
            print("–í—ã –ø–æ–¥–Ω–∏–º–∞–µ—Ç–µ—Å—å –∏ –Ω–∞—Ö–æ–¥–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç. üèÜ")
            print("–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!")
            artifact_found = True
            game_over = True
        else:
            print("–ù—É–∂–µ–Ω –º–∞–≥–∏—á–µ—Å–∫–∏–π –∫—Ä–∏—Å—Ç–∞–ª–ª.")
    elif action == "–≤–µ—Ä–Ω—É—Ç—å—Å—è":
        current_location = "–¥–µ—Ä–µ–≤–Ω—è"
    else:
        print("–ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.")

def main():
    global game_over
    print("=== –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ '–¢–∞–π–Ω—É –ó–∞—Ç–µ—Ä—è–Ω–Ω–æ–≥–æ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞' ===")
    print("–í–∞—à–∞ —Ü–µ–ª—å ‚Äî –Ω–∞–π—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç, —Å–ø—Ä—è—Ç–∞–Ω–Ω—ã–π –≤ –±–∞—à–Ω–µ.")
    print(f"–í–∞—à–µ –∑–¥–æ—Ä–æ–≤—å–µ: {health}")
    print("–í–≤–µ–¥–∏—Ç–µ '–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å', —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã.")
    print("–í–≤–µ–¥–∏—Ç–µ '–≤—ã—Ö–æ–¥', —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã.")

    while not game_over:
        if current_location == "–ª–µ—Å":
            describe_forest()
            action = input("\n–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ: ").lower().strip()
            if action == "–≤—ã—Ö–æ–¥":
                print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
                break
            elif action == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
                print("–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:", inventory)
                continue
            else:
                handle_forest(action)

        elif current_location == "–¥–µ—Ä–µ–≤–Ω—è":
            describe_village()
            action = input("\n–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ: ").lower().strip()
            if action == "–≤—ã—Ö–æ–¥":
                print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
                break
            elif action == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
                print("–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:", inventory)
                continue
            else:
                handle_village(action)

        elif current_location == "—Ç—Ä–∞–∫—Ç–∏—Ä":
            describe_tavern()
            action = input("\n–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ: ").lower().strip()
            if action == "–≤—ã—Ö–æ–¥":
                print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
                break
            elif action == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
                print("–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:", inventory)
                continue
            else:
                handle_tavern(action)

        elif current_location == "–ø–æ–¥–∑–µ–º–µ–ª—å–µ":
            describe_dungeon()
            action = input("\n–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ: ").lower().strip()
            if action == "–≤—ã—Ö–æ–¥":
                print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
                break
            elif action == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
                print("–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:", inventory)
                continue
            else:
                handle_dungeon(action)

        elif current_location == "—Ö—Ä–∞–º":
            describe_temple()
            action = input("\n–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ: ").lower().strip()
            if action == "–≤—ã—Ö–æ–¥":
                print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
                break
            elif action == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
                print("–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:", inventory)
                continue
            else:
                handle_temple(action)

        elif current_location == "–ø–µ—â–µ—Ä–∞":
            describe_cave()
            action = input("\n–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ: ").lower().strip()
            if action == "–≤—ã—Ö–æ–¥":
                print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
                break
            elif action == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
                print("–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:", inventory)
                continue
            else:
                handle_cave(action)

        elif current_location == "–±–∞—à–Ω—è":
            describe_tower()
            action = input("\n–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ: ").lower().strip()
            if action == "–≤—ã—Ö–æ–¥":
                print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")
                break
            elif action == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
                print("–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å:", inventory)
                continue
            else:
                handle_tower(action)

    if artifact_found:
        print("\nüéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –Ω–∞—à–ª–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∏ —Å–ø–∞—Å–ª–∏ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ!")

if __name__ == "__main__":
    main()